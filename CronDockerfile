
# This docker file is automatically created by NO-HEADACHE-DJANGO
# Please star me on github: http://github.com/mrsaemir/no-headache-django

# Base Python docker image:
FROM python:3.8

# These variables are required for Python:
ENV PYTHONDONTWRITEBYTECODE 1
ENV PYTHONUNBUFFERED 1

# Creating a non-root user:
RUN useradd -ms /bin/bash user

# Setting project's working directory:
WORKDIR /home/user/project_core
COPY . /home/user/project_core

# Static Files:
RUN mkdir -p /home/user/media
RUN mkdir -p /home/user/static

# Installing project requirement:
RUN pip install --upgrade pip
RUN pip install -r ./requirements.txt

# Setting right file permissions:
RUN chmod -R 777 /home/user

# Run the command on container startup
CMD ["python", "cron.py"]